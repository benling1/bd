webpackJsonp([5],{"72tr":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Hw+t"),i={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"clearfix",attrs:{id:"memberSMSGroupBox"}},[a("leftNav"),t._v(" "),a("div",{staticClass:"rightH",attrs:{id:"memberBox"}},[a("div",{staticClass:"memberSMSGroup"},[a("p",{staticClass:"title"},[t._v("注：可以向客户发送打折促销短信，节日关怀短信等。为了不影响 客户休息，建议您发送短信时间在8点至22点之间。")]),t._v(" "),a("div",{staticClass:"memberSMSGroupDivBox clearfix"},[a("div",{staticClass:"memberSMSGroupDivLeft"},[a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("1")]),t._v(" "),a("label",[t._v("发送方式：")]),t._v(" "),a("RadioGroup",{staticClass:"fl",on:{"on-change":t.changesendmode},model:{value:t.sendmodeVal,callback:function(s){t.sendmodeVal=s},expression:"sendmodeVal"}},[a("Radio",{staticStyle:{width:"1.2rem"},attrs:{label:"1"}},[t._v("手动输入号码")]),t._v(" "),a("Radio",{staticStyle:{width:"1.2rem"},attrs:{label:"2"}},[t._v("批量上传号码")])],1),t._v(" "),a("div",{staticClass:"showBatchUploadBox"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.showupload}},[t._v("选择文件")]),t._v(" "),a("p",[t._v("（支持xlsx、xls格式）")]),t._v(" "),a("div",[a("span",{on:{mouseover:t.showMb,mouseout:t.hideMb}},[t._v("模版事例")]),t._v(" "),a("img",{attrs:{src:e("TUn2")}})])])],1),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("2")]),t._v(" "),a("label",[t._v("活动名称：")]),t._v(" "),a("div",{staticClass:"hdName"},[a("Input",{staticStyle:{width:"6.2rem"},attrs:{placeholder:""},model:{value:t.hdNamevalue,callback:function(s){t.hdNamevalue=s},expression:"hdNamevalue"}}),t._v(" "),a("p",[t._v("注：为了您方便查找历史群发短信，请添加活动名称。")])],1)]),t._v(" "),1==t.sendmodeVal?a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("3")]),t._v(" "),a("label",[t._v("手机号码：")]),t._v(" "),a("div",{staticClass:"hdName"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.phoneNum,expression:"phoneNum"}],staticClass:"phoneNum",domProps:{value:t.phoneNum},on:{input:function(s){s.target.composing||(t.phoneNum=s.target.value)}}}),t._v(" "),a("p",[t._v('多个号码使用英文("，")隔开')])])]):t._e(),t._v(" "),2==t.sendmodeVal?a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("3")]),t._v(" "),a("label",[t._v("文件名称：")]),t._v(" "),a("span",{staticStyle:{float:"left",height:".32rem","line-height":".32rem","font-size":".16rem",color:"#646e72"}},[t._v(t._s(t.fileName))])]):t._e(),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("4")]),t._v(" "),a("label",[t._v("短信签名：")]),t._v(" "),a("div",{staticClass:"smsQm"},[a("RadioGroup",{staticClass:"fl",on:{"on-change":t.smsQm},model:{value:t.smsQmVal,callback:function(s){t.smsQmVal=s},expression:"smsQmVal"}},[a("Radio",{staticClass:"smsQmVal",attrs:{label:"淘宝"}},[t._v("淘宝")]),t._v(" "),a("Radio",{staticClass:"smsQmVal",attrs:{label:"京东"}},[t._v("京东")]),t._v(" "),a("Radio",{staticClass:"smsQmVal",attrs:{label:"天猫"}},[t._v("天猫")]),t._v(" "),a("Radio",{staticClass:"smsQmVal",attrs:{label:"自定义"}},[t._v("自定义")])],1),t._v(" "),a("Input",{staticClass:"smsQmcustom fl",staticStyle:{width:"200px"},attrs:{placeholder:""},on:{"on-keyup":t.changesmscontent},model:{value:t.smsQmvalue,callback:function(s){t.smsQmvalue=s},expression:"smsQmvalue"}})],1)]),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("5")]),t._v(" "),a("label",[t._v("短信内容：\n\t\t\t\t\t\t\t"),a("Tooltip",{attrs:{content:"根据淘宝规定，禁止发送“好评返现”、“免单”、“全5分返现”、“5折起”、“返利”、“团购”、“**元优惠劵”、“秒杀”、“满就送”、‘买就送”、“惊喜连连”、“全场满就送”、“全场买就送”、“特价优惠”、“具体金额（比如：**元；*00）”、“买**送”、“满**送 （**代表具体数字）”、“折扣”、“促销”、“全场清仓”、“清仓处理”、“全场包邮”、“加QQ”、“加微信”、“刷单”、“招聘刷单人员”、“招聘兼职”、“招商”、“代理“等相关内容的短信。敏感词最好只用 1-3个。腾讯手机管家的敏感词总数大于等于3个短信才会被拦截。360手机卫士的敏感词总数大于5个以上才会被拦截。",placement:"bottom"}},[a("em")])],1),t._v(" "),a("div",{staticClass:"smscontentBox fl"},[a("div",{staticClass:"smscontent"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.smscontentVal,expression:"smscontentVal"}],attrs:{id:"contentTxt"},domProps:{value:t.smscontentVal},on:{input:function(s){s.target.composing||(t.smscontentVal=s.target.value)}}}),t._v(" "),a("p",{staticClass:"tdhN"},[t._v("退订回N")]),t._v(" "),a("div",{staticClass:"smsTj clearfix"},[a("div",{staticClass:"wordCount"},[t._v("已输入："),a("span",{staticClass:"color5cc3f9"},[t._v(t._s(t.wordentry))]),t._v("个字，")]),t._v(" "),a("div",{staticClass:"jfBox"},[a("div",{staticClass:"jf"},[t._v("共"),a("span",{staticClass:"color5cc3f9"},[t._v(t._s(t.smsnote))]),t._v(" 条短信")]),t._v(" "),a("div",{staticClass:"jfgz"},[a("Tooltip",{attrs:{content:"一条短信70个字，短信内容超过70个字每条短信均按照67个字进行计费，其中汉字、英文字母、阿拉伯数字、标点符号均算作一个字。短信变量字数以实际发送为准。",placement:"top"}},[a("i",{staticClass:"jfgza"},[t._v("计费规则")])])],1)]),t._v(" "),a("div",{staticClass:"smscontentUl"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.addLink}},[t._v("添加短链接")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.quotePhraselibrary}},[t._v("引用短语库")]),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.saveSmsLibrary}},[t._v("存为短语库")])])])])])]),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("6")]),t._v(" "),a("label",[t._v("发送过滤：")]),t._v(" "),a("div",{staticClass:"fl"},[a("Checkbox",{staticClass:"fl",staticStyle:{width:".8rem"},model:{value:t.shield,callback:function(s){t.shield=s},expression:"shield"}},[t._v("屏蔽")]),t._v(" "),a("Select",{staticClass:"fl",staticStyle:{width:"1rem"},model:{value:t.shieldVal,callback:function(s){t.shieldVal=s},expression:"shieldVal"}},t._l(t.shieldList,function(s){return a("Option",{key:s.value,attrs:{value:s.value}},[t._v(t._s(s.label))])})),t._v(" "),a("span",{staticClass:"fl",staticStyle:{height:".32rem","line-height":".32rem","margin-left":".1rem"}},[t._v("天内发送过的号码，不再发送")])],1)]),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("div",{staticClass:"borL"}),t._v(" "),a("i",{staticClass:"sb"},[t._v("7")]),t._v(" "),a("label",[t._v("发送时间：")]),t._v(" "),a("div",{staticClass:"sendTiemBox fl"},[a("div",{staticClass:"sendTiem clearfix"},[a("RadioGroup",{staticClass:"fl",on:{"on-change":t.sendTime},model:{value:t.sendTimeVal,callback:function(s){t.sendTimeVal=s},expression:"sendTimeVal"}},[a("Radio",{attrs:{label:"1"}},[t._v("立即发送")]),t._v(" "),a("Radio",{attrs:{label:"2"}},[t._v("定时发送")])],1),t._v(" "),2==t.sendTimeVal?a("myDatepicker",{attrs:{date:t.startTime}}):t._e()],1),t._v(" "),a("p",{staticClass:"sendTiemTitle"},[t._v("注：定时发送必须晚于当前时间半个小时以上。")])])]),t._v(" "),a("div",{staticClass:"memberSMSGroupDiv clearfix"},[a("i",{staticClass:"sb"},[t._v("8")]),t._v(" "),a("label",[t._v("测试发送：")]),t._v(" "),a("div",{staticClass:"smsSendCs"},[a("Input",{staticClass:"fl",staticStyle:{width:"5rem"},attrs:{placeholder:"可输入5个手机号，手机号请用英文逗号隔开如：18811112233,18811112233"},model:{value:t.sendSmsvalue,callback:function(s){t.sendSmsvalue=s},expression:"sendSmsvalue"}}),t._v(" "),a("Button",{staticClass:"fff",staticStyle:{"margin-left":".15rem"},on:{click:t.testSms}},[t._v("短信测试")])],1)])]),t._v(" "),a("div",{staticClass:"memberSMSGroupDivRight"},[a("img",{attrs:{src:e("KKmv")}}),t._v(" "),a("p",{staticClass:"allContent"},[t._v(t._s(t.smscontentVal)+"退订回N")])])]),t._v(" "),a("div",{staticClass:"sendBtn"},[a("Button",{attrs:{type:"warning"},on:{click:t.postData}},[t._v("确认提交")])],1)])]),t._v(" "),a("div",{attrs:{id:"markBg"}}),t._v(" "),a("div",{staticClass:"uploadBox"},[a("i",{staticClass:"closeupload",on:{click:t.closeupload}}),t._v(" "),a("div",{staticClass:"upload clearfix"},[a("div",{staticClass:"uploadleft fl"},[a("i"),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:t.uploadFn},nativeOn:{keydown:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?(s.preventDefault(),t.entClick(s)):null}}},[t._v("上传文件")]),t._v(" "),a("input",{attrs:{type:"file",name:"file",id:"picpath"},on:{change:t.upfileClick},nativeOn:{keydown:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?(s.preventDefault(),t.entClick(s)):null}}})]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"uploadList"},[a("div",{staticClass:"uploadSerch clearfix"},[a("div",{staticClass:"SerchDiv fl"},[a("label",{staticClass:"fl"},[t._v("文件名：")]),t._v(" "),a("Input",{staticClass:"fl",staticStyle:{width:"1.9rem"},attrs:{placeholder:""},model:{value:t.fileSerch,callback:function(s){t.fileSerch=s},expression:"fileSerch"}})],1),t._v(" "),t._m(1),t._v(" "),a("a",{staticClass:"uploadserchBtn fr",attrs:{href:"javascript:;"},on:{click:t.showupload}},[t._v("搜索")])]),t._v(" "),a("div",{staticClass:"uploadListTable"},[t._m(2),t._v(" "),a("div",{staticClass:"uploadListTableBodyDiv"},[a("table",{attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[t._l(t.uploadList,function(s,e){return t.uploadList.length?a("tr",[a("td",{staticClass:"tdone"},[t._v(t._s(e+1))]),t._v(" "),a("td",{staticClass:"tdtwo"},[t._v(t._s(s.importTime))]),t._v(" "),a("td",{staticClass:"tdthree"},[t._v(t._s(s.fileName))]),t._v(" "),a("td",{staticClass:"tdfour"},[t._v(t._s(s.sendNumber))]),t._v(" "),a("td",{staticClass:"tdfive"},[t._v(t._s(s.successNumber))]),t._v(" "),a("td",{staticClass:"tdsix"},[t._v(t._s(s.errorNumber))]),t._v(" "),0==s.state?a("td",{staticClass:"tdseven"},[t._v("上传完成")]):t._e(),t._v(" "),1==s.state?a("td",{staticClass:"tdseven"},[t._v("上传失败")]):t._e(),t._v(" "),2==s.state?a("td",{staticClass:"tdseven"},[t._v("上传中")]):t._e(),t._v(" "),2==s.state?a("td",{staticClass:"tdeight"},[a("a",{attrs:{href:"javascript:;"},on:{click:t.showupload}},[t._v("刷新")])]):t._e(),t._v(" "),1==s.state?a("td",{staticClass:"tdeight"},[a("a",{attrs:{href:"javascript:;","data-id":s.id},on:{click:t.delupFileClick}},[t._v("删除")])]):t._e(),t._v(" "),0==s.state?a("td",{staticClass:"tdeight"},[a("a",{attrs:{href:"javascript:;","data-id":s.id,"data-name":s.fileName},on:{click:t.upfileUse}},[t._v("使用")]),t._v(" "),a("a",{attrs:{href:"javascript:;","data-id":s.id},on:{click:t.delupFileClick}},[t._v("删除")])]):t._e()]):t._e()}),t._v(" "),t.loddingImg?a("tr",[t._m(3)]):t._e(),t._v(" "),t.titleshow?a("tr",[a("td",{attrs:{colspan:"8"}},[t._v("暂无数据")])]):t._e()],2)])])])]),t._v(" "),a("addduanlink",{on:{aaa:t.showMsg}}),t._v(" "),a("quotePhraselibrary",{ref:"updata",on:{quotePhraselibraryTitle:t.showTilte}}),t._v(" "),a("div",{staticClass:"storageSMSLibrary"},[a("h3",[t._v("另存为短语库")]),t._v(" "),a("Input",{staticClass:"storageSMSLibraryInput",staticStyle:{width:"2.78rem"},attrs:{placeholder:"模板名称"},model:{value:t.storageSMSLibraryvalue,callback:function(s){t.storageSMSLibraryvalue=s},expression:"storageSMSLibraryvalue"}}),t._v(" "),a("div",{staticClass:"storageSMSLibraryBtn"},[a("a",{staticClass:"qd",attrs:{href:"javascript:;"},on:{click:t.storageSMSLibraryQd}},[t._v("确定")]),t._v(" "),a("a",{staticClass:"qx",attrs:{href:"javascript:;"},on:{click:t.storageSMSLibraryQx}},[t._v("取消")])])],1),t._v(" "),a("input",{attrs:{type:"hidden",id:"phonesId",value:""}}),t._v(" "),a("input",{attrs:{type:"hidden",id:"urlType",value:"34"}}),t._v(" "),a("img",{staticClass:"loadingIcon",staticStyle:{display:"none"},attrs:{src:e("aDJv")}})],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"uploadright fl"},[e("h5",[e("i"),t._v("使用帮助：")]),t._v(" "),e("p",[t._v("1.直接上传所需发送的号码文件，如选择之前已上传过的历史文件，可直接在列表点击使用即可。")]),t._v(" "),e("p",[t._v("2.文件上传中可以点击刷新查看上传最新状态。")]),t._v(" "),e("p",[t._v("3.处理状态显示“上传成功”即可选择此文件，进入下一步操作。")]),t._v(" "),e("p",[t._v("4.单个文件上传最大限制为15万手机号，如果超出请您分批上传。")]),t._v(" "),e("p",[t._v("5.重复号码发送时会自动去重。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"SerchDiv fl"},[s("label",{staticClass:"fl"},[this._v("上传时间：")]),this._v(" "),s("div",{staticClass:"uploadTime fl"},[s("div",{staticClass:"fl dsTime2"},[s("input",{staticClass:"timer2",attrs:{readonly:"readonly",type:"text",name:"timer4",id:"timer4",value:""}}),this._v(" "),s("i",{staticClass:"ivu-icon ivu-icon-ios-clock-outline ivu-input-icon ivu-input-icon-normal"})]),this._v(" "),s("span",{staticClass:"fl hx"},[this._v("-")]),this._v(" "),s("div",{staticClass:"fl dsTime2"},[s("input",{staticClass:"timer2",attrs:{readonly:"readonly",type:"text",name:"timer5",id:"timer5",value:""}}),this._v(" "),s("i",{staticClass:"ivu-icon ivu-icon-ios-clock-outline ivu-input-icon ivu-input-icon-normal"})])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",{staticClass:"uploadListTableHead",attrs:{border:"0",cellspacing:"0",cellpadding:"0"}},[e("tr",[e("th",{staticClass:"thone"},[t._v("序号")]),t._v(" "),e("th",{staticClass:"thtwo"},[t._v("导入时间")]),t._v(" "),e("th",{staticClass:"ththree"},[t._v("文件名称")]),t._v(" "),e("th",{staticClass:"thfour"},[t._v("手机号个数")]),t._v(" "),e("th",{staticClass:"thfive"},[t._v("上传成功数")]),t._v(" "),e("th",{staticClass:"thsix"},[t._v("上传失败数")]),t._v(" "),e("th",{staticClass:"thseven"},[t._v("处理状态")]),t._v(" "),e("th",{staticClass:"theight"},[t._v("操作")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("td",{attrs:{colspan:"8"}},[s("img",{staticStyle:{width:".5rem"},attrs:{src:e("6Qlk")}})])}]},l=e("C7Lr")(a.a,i,!1,null,null,null);s.default=l.exports},"Hw+t":function(t,s,e){"use strict";(function(t){var a=e("a3Yh"),i=e.n(a),l=e("huhT"),n=e("DcQp"),o=e("8wvh"),r=(e.n(o),e("rct1")),c=(e.n(r),e("nMtv"),e("fiPB")),v=(e.n(c),e("o1Nm")),d=(e("03+q"),e("zZ6+")),m=e("UzYK");s.a={name:"memberSMSGroup",data:function(){var t;return t={startTime:{time:""},loddingImg:!0,titleshow:!1,repeatSubmissionBok:!1,fileName:"",smsQmVal:"淘宝",smsQmvalue:"",hdNamevalue:"",phoneNum:"",smscontentVal:"【淘宝】",sendTimeVal:"1",shield:!1,shieldVal:"1",shieldList:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"20",label:"20"},{value:"30",label:"30"}]},i()(t,"smsQmvalue",""),i()(t,"sendSmsvalue",""),i()(t,"sendmodeVal","1"),i()(t,"fileSerch",""),i()(t,"storageSMSLibraryvalue",""),i()(t,"uploadList",[]),t},components:{leftNav:l.a,addduanlink:d.a,quotePhraselibrary:m.a,myDatepicker:n.a},computed:{wordentry:{get:function(){t(".smsVar .showTitleBox.on");var s=0,e=this.smscontentVal.match(/(\{)([\S\s\t]*?)(\})/g),a=t(".smsVar .showTitleBox");if(null!=e)for(var i=0;i<e.length;i++)for(var l=0;l<a.length;l++)e[i]==t(".smsVar .showTitleBox a").eq(l).attr("data-txt")&&(s+=parseInt(t(".smsVar .showTitleBox a").eq(l).attr("data-num")));return this.smscontentVal.length+4+s}},smsnote:{get:function(){return Math.ceil(this.wordentry>70?this.wordentry/67:this.wordentry/70)}}},created:function(){this.$store.dispatch("inspecifiedNumber")},mounted:function(){Object(v.d)({sClass1:".title",sClass2:".memberSMSGroupDivBox",sClass3:".sendBtn",leftClass:".leftNav",rightClass:".memberSMSGroup"}),t(window).resize(function(){Object(v.d)({sClass1:".title",sClass2:".memberSMSGroupDivBox",sClass3:".sendBtn",leftClass:".leftNav",rightClass:".memberSMSGroup"})});var s={trigger:"",isTime:!0,format:"YYYY-MM-DD hh:mm:ss",okfun:function(t){e.minDate=t.date.YYYY+"-"+t.date.MM+"-"+t.date.DD+" 00:00:00"}},e={trigger:"",isTime:!0,format:"YYYY-MM-DD hh:mm:ss",okfun:function(t){s.maxDate=t.date.YYYY+"-"+t.date.MM+"-"+t.date.DD+" 23:59:59"}};t("#timer4").click(function(){t("#timer4").jeDate(s)}),t("#timer5").click(function(){t("#timer5").jeDate(e)}),t(".jfgza").mouseover(function(){t(this).siblings("p").show()}),t(".jfgza").mouseout(function(){t(this).siblings("p").hide()})},methods:{postData:function(){var s=this.sendmodeVal,e=this.phoneNum.replace(/，/gi,","),a=t.trim(e).split(","),i=t("#phonesId").val(),l=this.hdNamevalue,n=t(".allContent").text(),o=this.shieldVal,r=(this.smsQmVal,this.sendTimeVal),c=this.startTime.time+":00",d=n.match(/\[|\]|【|】/g),m=this.smscontentVal.match(/(\{)([\S\s\t]*?)(\})/g),h=[],p=this.smscontentVal.match(/(【)([\S\s\t]*?)(】)/g);if(m){m.sort();for(var u=0;u<m.length;u++)m[u]==m[u+1]&&0;for(var f=0;f<t(".showTitleBox").length;f++)h.push(t(".showTitleBox").eq(f).find("a").attr("data-txt"));for(var _=h.join(","),g=0;g<m.length;g++)-1==_.indexOf(m[g])&&0}if(p){var C=(new Date).getTime(),b=Date.parse(c);if(Math.floor(d.length/2)>1)this.instance("错误提示","短信文案中不能出现两个【】或者[]请确认短信文案");else if(1!=s||""!=a)if(2!=s||""!=i){if(2==r){if(""==c)return void this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">定时发送不能为空！</p>'});if(b-C<18e5)return void this.instance("错误提示","定时时间不能小于半小时!")}if("自定义"==this.smsQmVal){if(p!="【"+this.smsQmvalue+"】")return void this.instance("错误提示","短信内容里的短信签名与签名不符！")}else if(p!="【"+this.smsQmVal+"】")return void this.instance("错误提示","短信内容里的短信签名与签名不符！");for(var S=0,y=/^[0-9]+.?[0-9]*$/,x=0;x<a.length;x++)11!=t.trim(a[x]).length&&""!=t.trim(a[x])?S++:y.test(t.trim(a[x]))||""==t.trim(a[x])||S++;if(S)this.instance("错误提示","手机号码不正确！");else if(""!=this.smscontentVal){var w=[];if(a.length)for(var M=0;M<a.length;M++)""!=a[M]&&w.push(a[M].replace(/[\r\n\t]/g,""));var k=void 0;k=this.shield?{sendMode:s,phones:w,phonesId:i,activityName:l,autograph:p.join(","),content:n,sendDay:o,sendTimeType:r,sendTime:"1"==r?"":c}:{sendMode:s,phones:w,phonesId:i,activityName:l,autograph:p.join(","),content:n,sendDay:"",sendTimeType:r,sendTime:"1"==r?"":c};var T=this;this.$http.post("/systemManage/sensitiveWord",{params:{content:n}}).then(function(s){if(s.data.result){for(var e=[],a=0;a<s.data.result.length;a++)e.push("【"+s.data.result[a]+"】");T.$Modal.confirm({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">敏感词已超过2个，请定要发送吗？</p><p style="font-size:.16rem">您的短信内容中含有敏感词：<span style="color:red">'+e+"</span>建议您修改或删除后发送。</p>",okText:"不修改，继续发送",cancelText:"去修改",onOk:function(){T.repeatSubmissionBok||(T.repeatSubmissionBok=!0,t(".loadingIcon").show(),t("#markBg").addClass("on"),Object(v.H)(k,T))}})}else T.$Modal.confirm({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">确定要发送吗？</p>',onOk:function(){T.repeatSubmissionBok||(T.repeatSubmissionBok=!0,t(".loadingIcon").show(),t("#markBg").addClass("on"),Object(v.H)(k,T))}})})}else this.instance("错误提示","短信内容不能为空")}else this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">批量上传文件不能为空！</p>'});else this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">手机号码不能为空！</p>'})}else this.instance("错误提示","短信内容里没有短信签名！")},smsQm:function(s){if("自定义"==s){var e=this.smscontentVal.replace("【淘宝】","").replace("【京东】","").replace("【天猫】","").replace(/(【)([\S\s\t]*?)(】)/g,"");this.smscontentVal=e,t(".smsQmcustom").show(),this.smsQmvalue=""}else{var a=this.smscontentVal.replace("【淘宝】","").replace("【京东】","").replace("【天猫】","").replace(/(【)([\S\s\t]*?)(】)/g,"");this.smscontentVal="【"+s+"】"+a,t(".smsQmcustom").hide(),this.smsQmvalue=""}},sendTime:function(t){var s=Date.parse(new Date)+186e4;this.startTime.time=this.addTimeReg(s)},addTimeReg:function(t){var s=new Date(t),e=s.getFullYear(),a=s.getMonth()+1,i=s.getDate(),l=(s.getHours()<10?"0"+s.getHours():""+s.getHours())+":"+(s.getMinutes()<10?"0"+s.getMinutes():""+s.getMinutes());return e+"-"+(a<10?"0":"")+a+"-"+(i<10?"0":"")+i+" "+l},showTitle:function(t){Object(v.B)(t.target)},hideTitle:function(){Object(v.A)()},changesmscontent:function(s){var e=t(s.target).val(),a=this.smscontentVal.replace(/(【)([\S\s\t]*?)(】)/g,"");this.smscontentVal=""==e?a:"【"+e+"】"+a},testSms:function(){var s=this.smscontentVal.match(/(【)([\S\s\t]*?)(】)/g),e=this.smscontentVal.match(/(\{)([\S\s\t]*?)(\})/g),a=0,i=0,l=[];if(this.smscontentVal.replace(s,"")){if(e){e.sort();for(var n=0;n<e.length;n++)e[n]==e[n+1]&&a++;for(var o=0;o<t(".smsVar .showTitleBox").length;o++)l.push(t(".smsVar .showTitleBox a").eq(o).attr("data-txt"));for(var r=l.join(","),c=0;c<e.length;c++)-1==r.indexOf(e[c])&&i++}if(a>0)this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">短信内容中存在相同变量请修改。</p>'});else if(i>0)this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">短信内容中存在错误变量请修改。</p>'});else if(""!=this.smscontentVal){var d=void 0;if(""!=this.sendSmsvalue){var m=0,h=/^1[3|4|5|7|8]\d{9}$/;if(void 0!=(d=this.sendSmsvalue.split(","))){if(d.length>5)return void this.instance("错误提示","测试手机号最多可输入5个");d.sort();for(var p=0;p<d.length;p++)d[p].length>11||d[p].length<11?m++:d[p].match(h)||m++,d[p]==d[p+1]&&m++}if(m>0)this.instance("错误提示","测试手机号错误");else{var u={phones:d,autograph:s.join(","),content:t(".allContent").text()};Object(v.I)(u,this)}}else this.instance("错误提示","请输入测试手机号")}else this.instance("错误提示","短信内容不能为空")}else this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">短信内容不能为空。</p>'})},instance:function(t,s){this.$Modal.warning({title:'<p style="font-size:16px">'+t+"</p>",content:'<p style="font-size:16px">'+s+"</p>"})},addLink:function(){t(".addShortLinkBox").show(),t("#markBg").addClass("on")},saveSmsLibrary:function(){var s=this.smscontentVal,e=this.smscontentVal.match(/(【)([\S\s\t]*?)(】)/g),a=this.smscontentVal.replace(e,""),i=(this.hdNamevalue,s.match(/\[|\]|【|】/g)),l=this.smscontentVal.match(/(\{)([\S\s\t]*?)(\})/g),n=0,o=0,r=[];if(l){l.sort();for(var c=0;c<l.length;c++)l[c]==l[c+1]&&n++;for(var v=0;v<t(".showTitleBox").length;v++)r.push(t(".showTitleBox").eq(v).find("a").attr("data-txt"));for(var d=r.join(","),m=0;m<l.length;m++)-1==d.indexOf(l[m])&&o++}e?n>0?this.$Modal.warning({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">短信内容中存在相同变量请修改。</p>'}):o>0?this.$Modal.warning({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">短信内容中存在错误变量请修改。</p>'}):a?Math.floor(i.length/2)>1?this.instance("错误提示","短信文案中不能出现两个【】或者[]请确认短信文案"):this.smscontentVal?e?(t(".storageSMSLibrary").show(),t("#markBg").addClass("on")):this.instance("错误提示","发送内容没有签名!"):this.instance("错误提示","发送内容不能为空!"):this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">短信内容不能为空。</p>'}):this.instance("错误提示","短信内容里没有短信签名！")},showTilte:function(t){"自定义"!=this.smsQmVal?this.smscontentVal="【"+this.smsQmVal+"】"+t:this.smscontentVal="【"+this.smsQmvalue+"】"+t},storageSMSLibraryQd:function(){if(""!=t.trim(this.storageSMSLibraryvalue)){var s={name:this.storageSMSLibraryvalue,type:t("#urlType").val(),content:t("#contentTxt").val(),customerType:"customer"};""!=this.storageSMSLibraryvalue?(Object(v.D)(s,this),t(".storageSMSLibrary").hide(),t("#markBg").removeClass("on"),this.storageSMSLibraryvalue=""):this.$Modal.warning({title:'<p style="font-size:16px">温馨提示</p>',content:'<p style="font-size:16px">短语名不能为空</p>'})}else this.$Modal.warning({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">短语名不能为空</p>'})},storageSMSLibraryQx:function(){t(".storageSMSLibrary").hide(),t("#markBg").removeClass("on"),this.storageSMSLibraryvalue=""},quotePhraselibrary:function(){t(".quotePhraselibrary").show(),t("#markBg").addClass("on"),t(".quotePhraselibraryTab li").removeClass("on"),t(".quotePhraselibraryTab li").eq(0).addClass("on"),t(".TbaleBox").removeClass("on"),t(".TbaleBox").eq(0).addClass("on"),this.$refs.updata.updata("system")},showMsg:function(t){this.smscontentVal=this.smscontentVal+t},changesendmode:function(s){"1"==s?t(".showBatchUploadBox").hide():t(".showBatchUploadBox").show()},showMb:function(s){t(s.target).siblings("img").show()},hideMb:function(s){t(s.target).siblings("img").hide()},uploadFn:function(){t("#uploadwj").click()},showupload:function(){t(".uploadBox").show(),t("#markBg").addClass("on");var s=t("#timer4").val(),e=t("#timer5").val(),a=this.fileSerch,i={beginTime:s,endTime:e,fileName:t.trim(a)};this.uploadList=[],this.loddingImg=!0,this.titleshow=!1,Object(v.K)(i,this)},upfileUse:function(s){var e=t(s.target).attr("data-id"),a=t(s.target).attr("data-name");t(".uploadBox").hide(),t("#markBg").removeClass("on"),t("#phonesId").val(e),this.fileName=a},closeupload:function(){t(".uploadBox").hide(),t("#markBg").removeClass("on"),this.fileName="",t("#timer4").val(""),t("#timer5").val("")},delupFileClick:function(s){var e={recordId:t(s.target).attr("data-id")};Object(v.e)(e,this)},upfileClick:function(s){var e=s.target.files[0],a=this.phoneOrBuyName2,i=new FormData;(i.append("file",e),i.append("type",a),new RegExp("(.xls|.xlsx|.txt)$").test(t("#picpath").val().toLowerCase()))?document.getElementById("picpath").files[0].size>2366923?this.$Modal.warning({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">上传文件数量不能大于15万!</p>'}):(this.uploadList=[],this.loddingImg=!0,this.titleshow=!1,Object(v.J)(i,this)):this.$Modal.warning({title:'<p style="font-size:.16rem">温馨提示</p>',content:'<p style="font-size:.16rem">文件格式不正确！</p>'})},entClick:function(){}}}}).call(s,e("tPWS"))},TUn2:function(t,s,e){t.exports=e.p+"static/img/example3.340ef68.png"},rct1:function(t,s){}});